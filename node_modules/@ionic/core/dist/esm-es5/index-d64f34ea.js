/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{d as doc}from"./index-a5d50daf.js";import{u as now,v as pointerCoord}from"./helpers-c0b9ca37.js";var startTapClick=function(r){if(doc===undefined){return}var e=-MOUSE_WAIT*10;var n=0;var t;var i;var a;var o=r.getBoolean("animated",true)&&r.getBoolean("rippleEffect",true);var f=new WeakMap;var u=function(r){e=now(r);E(r)};var c=function(r){e=now(r);A(r)};var v=function(r){if(r.button===2){return}var n=now(r)-MOUSE_WAIT;if(e<n){E(r)}};var d=function(r){var n=now(r)-MOUSE_WAIT;if(e<n){A(r)}};var T=function(){if(a)clearTimeout(a);a=undefined;if(t){D(false);t=undefined}};var E=function(r){if(t){return}s(getActivatableTarget(r),r)};var A=function(r){s(undefined,r)};var s=function(r,e){if(r&&r===t){return}if(a)clearTimeout(a);a=undefined;var n=pointerCoord(e),i=n.x,o=n.y;if(t){if(f.has(t)){throw new Error("internal error")}if(!t.classList.contains(ACTIVATED)){l(t,i,o)}D(true)}if(r){var u=f.get(r);if(u){clearTimeout(u);f.delete(r)}r.classList.remove(ACTIVATED);var c=function(){l(r,i,o);a=undefined};if(isInstant(r)){c()}else{a=setTimeout(c,ADD_ACTIVATED_DEFERS)}}t=r};var l=function(r,e,t){n=Date.now();r.classList.add(ACTIVATED);if(!o)return;var a=getRippleEffect(r);if(a!==null){p();i=a.addRipple(e,t)}};var p=function(){if(i!==undefined){i.then((function(r){return r()}));i=undefined}};var D=function(r){p();var e=t;if(!e){return}var i=CLEAR_STATE_DEFERS-Date.now()+n;if(r&&i>0&&!isInstant(e)){var a=setTimeout((function(){e.classList.remove(ACTIVATED);f.delete(e)}),CLEAR_STATE_DEFERS);f.set(e,a)}else{e.classList.remove(ACTIVATED)}};doc.addEventListener("ionGestureCaptured",T);doc.addEventListener("touchstart",u,true);doc.addEventListener("touchcancel",c,true);doc.addEventListener("touchend",c,true);doc.addEventListener("pointercancel",T,true);doc.addEventListener("mousedown",v,true);doc.addEventListener("mouseup",d,true)};var getActivatableTarget=function(r){if(r.composedPath!==undefined){var e=r.composedPath();for(var n=0;n<e.length-2;n++){var t=e[n];if(!(t instanceof ShadowRoot)&&t.classList.contains("ion-activatable")){return t}}}else{return r.target.closest(".ion-activatable")}};var isInstant=function(r){return r.classList.contains("ion-activatable-instant")};var getRippleEffect=function(r){if(r.shadowRoot){var e=r.shadowRoot.querySelector("ion-ripple-effect");if(e){return e}}return r.querySelector("ion-ripple-effect")};var ACTIVATED="ion-activated";var ADD_ACTIVATED_DEFERS=100;var CLEAR_STATE_DEFERS=150;var MOUSE_WAIT=2500;export{startTapClick};